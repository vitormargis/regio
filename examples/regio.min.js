!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Regio=t():e.Regio=t()}(this,function(){return function(e){function t(o){if(i[o])return i[o].exports;var r=i[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,o){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=i(2),s=function(){function e(t,i){o(this,e),this.element=t,this.config=i||{movable:!1,drawable:!0,resizable:!1,removable:!0},this.regio={areas:[],isSelecting:!1,selectingNode:[],toAppend:"",coordinates:{}},this.config.drawable&&(t.addEventListener("mousedown",this._mouseDown.bind(this)),t.addEventListener("mousemove",this._mouseMove.bind(this)),t.addEventListener("mouseup",this._mouseUp.bind(this))),t.addEventListener("click",this._clickArea)}return r(e,[{key:"_mouseDown",value:function(e){(0,n.hasSomeParentTheClass)(e.target,"regio")||(this.regio.selectingNode=document.createElement("div"),this.regio.selectingNode.classList.add("regio"),this.regio.selectingNode.classList.add("selecting"),this.element.appendChild(this.regio.selectingNode),this.regio.coordinates={x:Number(e.layerX),y:Number(e.layerY)},this.regio.isSelecting=!0)}},{key:"_mouseMove",value:function(e){(0,n.hasSomeParentTheClass)(e.target,"regio")||this.regio.isSelecting&&(this.regio.selectingNode.style.height=Math.abs(e.layerY-this.regio.coordinates.y)+"px",this.regio.selectingNode.style.width=Math.abs(e.layerX-this.regio.coordinates.x)+"px",this.regio.coordinates.x<e.layerX?(this.regio.selectingNode.style.right=null,this.regio.selectingNode.style.left=this.regio.coordinates.x-15+"px"):(this.regio.selectingNode.style.left=null,this.regio.selectingNode.style.right=e.target.offsetWidth-this.regio.coordinates.x-15+"px"),this.regio.coordinates.y<e.layerY?(this.regio.selectingNode.style.bottom=null,this.regio.selectingNode.style.top=this.regio.coordinates.y-15+"px"):(this.regio.selectingNode.style.top=null,this.regio.selectingNode.style.bottom=e.target.offsetHeight-this.regio.coordinates.y-15+"px"))}},{key:"_mouseUp",value:function(e){if(!(0,n.hasSomeParentTheClass)(e.target,"regio")){this.regio.selectingNode.remove();var t={width:this.regio.selectingNode.style.width,height:this.regio.selectingNode.style.height,top:this.regio.selectingNode.style.top,right:this.regio.selectingNode.style.right,bottom:this.regio.selectingNode.style.bottom,left:this.regio.selectingNode.style.left};!t.width||parseInt(t.width)<30||(this.regio.areas.push(t),this.add([t],!1),this.regio.isSelecting=!1)}}},{key:"areas",value:function(e){return e?this.regio.areas[e]:this.regio.areas}},{key:"nodes",value:function(e){var t=document.getElementsByClassName("regio");return e?t[e]:t}},{key:"_clickArea",value:function(e){if(e.target.className.includes("regio"))return e.target.click?e.target.click():void 0}},{key:"on",value:function(e,t){this.element.addEventListener(e||"click",function(e){e.target.className.includes("regio")&&t(e.target,e)})}},{key:"append",value:function(e){var t=e.html,i=e.callback,o=e.event;this.regio.toAppend=t,this.element.addEventListener(o||"click",function(e){e.target.className.includes("rg-append")&&i({element:e.target,area:e.target.parentNode})})}},{key:"remove",value:function(e,t){var i=this;console.log(e),e&&(this.nodes(e).remove(),this.regio.areas=this.regio.areas.filter(function(t,i){return i!==e})),this.element.addEventListener("click",function(e){e.target.className.includes("rg-removable")&&(t&&t(e.target.parentNode,e),i.regio.areas=i.regio.areas.filter(function(t,i){return e.target.parentNode.index!==i}),e.target.parentNode.remove())})}},{key:"add",value:function(e){var t=this;(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.regio.areas=e),e.map(function(e){var i=t.nodes().length;if(t.regio.selectingNode=document.createElement("div"),t.regio.selectingNode.classList.add("regio"),t.regio.selectingNode.style.width=e.width,t.regio.selectingNode.style.height=e.height,t.regio.selectingNode.style.top=e.top,t.regio.selectingNode.style.right=e.right,t.regio.selectingNode.style.bottom=e.bottom,t.regio.selectingNode.style.left=e.left,t.regio.selectingNode.click=e.click,t.regio.selectingNode.index=i,parseInt(e.width)>30||parseInt(e.height)>30){if(t.element.appendChild(t.regio.selectingNode),t.config.resizable){var o=document.createElement("div");o.classList.add("rg-resizable"),t.regio.selectingNode.appendChild(o)}if(t.config.removable){var r=document.createElement("div");r.classList.add("rg-removable"),t.regio.selectingNode.appendChild(r)}if(t.regio.toAppend.length){var n=new DOMParser,s=n.parseFromString(t.regio.toAppend,"text/html").firstChild.lastChild.firstChild;s.classList.add("rg-append"),t.regio.selectingNode.appendChild(s)}}return e})}}]),e}();t.default=s},function(e,t,i){e.exports=i(0).default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.hasSomeParentTheClass=function e(t,i){return!!t.className&&(t.className.split(" ").indexOf(i)>=0||t.parentNode&&e(t.parentNode,i))}}])});
//# sourceMappingURL=spotify-wrapper.umd.min.js.map